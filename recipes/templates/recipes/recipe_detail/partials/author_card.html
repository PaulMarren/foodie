{% load static %}
{% load profile_tags %}
{% load crispy_forms_tags %}

<div class="card author-card mb-4">
    <div class="card-body text-center">

        <!-- Author Profile Image -->
        <img src="{% get_profile_image recipe.author.profile %}" class="rounded-circle mb-3"
            alt="{{ recipe.author.username }}" style="width: 150px; height: 150px; object-fit: cover;">
        
        <!-- Author Full Name -->
        <h4 class="card-title">{{ recipe.author.get_full_name }}</h4>
        
        <!-- Author Username -->
        <p class="text-muted">@{{ recipe.author.username }}</p>

        <!-- Author Bio Section (Conditional) -->
        {% if recipe.author.profile.bio %}
        <div class="bio-section mt-3">
            <h5>About Me</h5>
            <p class="card-text">{{ recipe.author.profile.bio }}</p>
        </div>
        {% endif %}

        <!-- Author Statistics -->
        <div class="stats mt-4">
            <div class="row">
                <!-- Recipe Count -->
                <div class="col-6">
                    <h5>{{ recipe.author.recipe_set.count }}</h5>
                    <p class="text-muted small">Recipes</p>
                </div>
                <!-- Member Since Date -->
                <div class="col-6">
                    <h5>{{ recipe.author.date_joined|date:"Y" }}</h5>
                    <p class="text-muted small">Member Since</p>
                </div>
            </div>
        </div>
        
    </div>
</div>